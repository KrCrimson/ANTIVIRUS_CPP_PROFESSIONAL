<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Antivirus Log Dashboard - Professional Edition</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64,AAABAAEAEBAQAAEABAAoAQAAFgAAACgAAAAQAAAAIAAAAAEABAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAD///8A">
    
    <!-- External Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/date-fns@2.29.3/index.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Local Styles -->
    <link rel="stylesheet" href="css/dashboard.css">
    
    <!-- Meta Tags -->
    <meta name="description" content="Professional Antivirus Log Dashboard - Real-time monitoring and analysis">
    <meta name="keywords" content="antivirus, logs, dashboard, monitoring, security">
    <meta name="author" content="Antivirus Professional Team">
</head>
<body class="loading">
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <h2>üõ°Ô∏è Antivirus Log Dashboard</h2>
            <p>Initializing secure monitoring system...</p>
            <div class="loading-progress">
                <div class="progress-bar"></div>
            </div>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div class="dashboard-container">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="header-left">
                <h1><i class="fas fa-shield-alt"></i> Antivirus Professional</h1>
                <span class="subtitle">Log Dashboard</span>
            </div>
            
            <div class="header-center">
                <div class="connection-status">
                    <i class="fas fa-circle"></i>
                    <span id="connection-status">Connecting...</span>
                </div>
                <div class="last-update">
                    Last update: <span id="last-update">--:--</span>
                </div>
            </div>
            
            <div class="header-right">
                <button id="theme-toggle" class="btn btn-icon" title="Toggle Theme">
                    <i class="fas fa-moon"></i>
                </button>
                <button id="settings-btn" class="btn btn-icon" title="Settings">
                    <i class="fas fa-cog"></i>
                </button>
                <button id="export-btn" class="btn btn-secondary" title="Export Logs">
                    <i class="fas fa-download"></i>
                    Export
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="dashboard-main">
            <!-- Stats Cards -->
            <section class="stats-section">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-file-alt"></i>
                        </div>
                        <div class="stat-content">
                            <h3>Total Logs</h3>
                            <p id="total-logs" class="stat-number">0</p>
                        </div>
                    </div>
                    
                    <div class="stat-card error">
                        <div class="stat-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="stat-content">
                            <h3>Errors</h3>
                            <p id="total-errors" class="stat-number">0</p>
                        </div>
                    </div>
                    
                    <div class="stat-card warning">
                        <div class="stat-icon">
                            <i class="fas fa-exclamation-circle"></i>
                        </div>
                        <div class="stat-content">
                            <h3>Warnings</h3>
                            <p id="total-warnings" class="stat-number">0</p>
                        </div>
                    </div>
                    
                    <div class="stat-card" id="system-status">
                        <div class="stat-icon">
                            <i class="fas fa-server"></i>
                        </div>
                        <div class="stat-content">
                            <h3>System</h3>
                            <p class="stat-text">Checking...</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Controls Bar -->
            <section class="controls-section">
                <div class="controls-left">
                    <button id="refresh-btn" class="btn btn-primary">
                        <i class="fas fa-sync-alt"></i>
                        Refresh
                    </button>
                    <button id="filters-btn" class="btn btn-outline">
                        <i class="fas fa-filter"></i>
                        Filters
                    </button>
                </div>
                
                <div class="controls-right">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="search-logs" placeholder="Search logs..." autocomplete="off">
                    </div>
                </div>
            </section>

            <!-- Filters Panel -->
            <section id="filters-panel" class="filters-panel">
                <div class="filters-content">
                    <h3><i class="fas fa-filter"></i> Filter Logs</h3>
                    
                    <div class="filters-grid">
                        <div class="filter-group">
                            <label for="component-filter">Component</label>
                            <select id="component-filter">
                                <option value="">All Components</option>
                            </select>
                        </div>
                        
                        <div class="filter-group">
                            <label for="level-filter">Level</label>
                            <select id="level-filter">
                                <option value="">All Levels</option>
                                <option value="DEBUG">Debug</option>
                                <option value="INFO">Info</option>
                                <option value="WARNING">Warning</option>
                                <option value="ERROR">Error</option>
                            </select>
                        </div>
                        
                        <div class="filter-group">
                            <label for="date-from">From Date</label>
                            <input type="datetime-local" id="date-from">
                        </div>
                        
                        <div class="filter-group">
                            <label for="date-to">To Date</label>
                            <input type="datetime-local" id="date-to">
                        </div>
                    </div>
                    
                    <div class="filter-actions">
                        <button id="apply-filters" class="btn btn-primary">Apply Filters</button>
                        <button id="clear-filters" class="btn btn-outline">Clear</button>
                    </div>
                </div>
            </section>

            <!-- Charts Section -->
            <section class="charts-section">
                <div class="charts-grid">
                    <div class="chart-card">
                        <h3><i class="fas fa-chart-line"></i> Timeline</h3>
                        <div class="chart-container">
                            <canvas id="timeline-chart"></canvas>
                        </div>
                    </div>
                    
                    <div class="chart-card">
                        <h3><i class="fas fa-chart-pie"></i> Severity Distribution</h3>
                        <div class="chart-container">
                            <canvas id="severity-chart"></canvas>
                        </div>
                    </div>
                    
                    <div class="chart-card">
                        <h3><i class="fas fa-chart-bar"></i> Components</h3>
                        <div class="chart-container">
                            <canvas id="components-chart"></canvas>
                        </div>
                    </div>
                    
                    <div class="chart-card">
                        <h3><i class="fas fa-activity"></i> Activity</h3>
                        <div class="chart-container">
                            <canvas id="activity-chart"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Logs Table Section -->
            <section class="table-section">
                <div class="table-header">
                    <h3><i class="fas fa-list"></i> Recent Logs</h3>
                    <div class="table-actions">
                        <span id="page-info" class="page-info">0-0 of 0</span>
                    </div>
                </div>
                
                <div class="table-container">
                    <table id="logs-table" class="logs-table">
                        <thead>
                            <tr>
                                <th><input type="checkbox" id="select-all"></th>
                                <th>Timestamp</th>
                                <th>Level</th>
                                <th>Component</th>
                                <th>Message</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Logs will be populated here -->
                        </tbody>
                    </table>
                </div>
                
                <div class="table-footer">
                    <div id="pagination" class="pagination">
                        <!-- Pagination buttons will be generated here -->
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Log Details Modal -->
    <div id="log-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-file-alt"></i> Log Details</h2>
                <button class="close-modal btn btn-icon">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <!-- Log details will be populated here -->
            </div>
            <div class="modal-footer">
                <button class="close-modal btn btn-secondary">Close</button>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-cog"></i> Dashboard Settings</h2>
                <button class="close-modal btn btn-icon">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="settings-section">
                    <h3>Display Preferences</h3>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="auto-refresh-setting" checked>
                            Auto-refresh data
                        </label>
                    </div>
                    <div class="setting-item">
                        <label for="page-size-setting">Logs per page:</label>
                        <select id="page-size-setting">
                            <option value="10">10</option>
                            <option value="20" selected>20</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                        </select>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h3>System Information</h3>
                    <div class="system-info">
                        <p><strong>Version:</strong> <span id="app-version">1.0.0</span></p>
                        <p><strong>Build:</strong> <span id="build-date">2024-01-01</span></p>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h3>Debug Tools</h3>
                    <button id="export-system-info" class="btn btn-outline">
                        <i class="fas fa-download"></i>
                        Export System Info
                    </button>
                    <button id="clear-cache-btn" class="btn btn-outline">
                        <i class="fas fa-trash"></i>
                        Clear Cache
                    </button>
                </div>
            </div>
            <div class="modal-footer">
                <button id="save-settings" class="btn btn-primary">Save Settings</button>
                <button class="close-modal btn btn-secondary">Close</button>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Critical Error Overlay -->
    <div id="critical-error" class="critical-error" style="display: none;">
        <div class="error-content">
            <h2>‚ö†Ô∏è Critical Error</h2>
            <p id="error-message">An unexpected error occurred</p>
            <div class="error-actions">
                <button onclick="window.location.reload()" class="btn btn-primary">
                    <i class="fas fa-sync-alt"></i>
                    Reload Page
                </button>
                <button id="contact-support" class="btn btn-outline">
                    <i class="fas fa-envelope"></i>
                    Contact Support
                </button>
            </div>
        </div>
    </div>

    <!-- JavaScript Files (Order is important) -->
    <script src="js/config.js"></script>
    <script src="js/api.js"></script>
    <script src="js/charts.js"></script>
    <script src="js/dashboard.js"></script>
    <script src="js/app.js"></script>
</body>
</html>